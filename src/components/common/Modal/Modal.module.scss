// ===========================================
// Modal Styles
// ===========================================

@use '@/styles/abstracts' as *;

// -----------------------------
// Overlay
// 모달 배경 오버레이 - 블러 처리
// -----------------------------
.overlay {
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: $spacing-4;

  // 블러 배경 - 라이트/다크 모드 지원
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);

  // 다크모드에서 더 어두운 배경
  :root[data-theme='dark'] & {
    background-color: rgba(0, 0, 0, 0.7);
  }

  // 페이드인 애니메이션
  animation: fadeIn $duration-fast $ease-out forwards;
}

// -----------------------------
// Modal Container
// 모달 컨테이너
// -----------------------------
.modal {
  position: relative;
  background-color: var(--color-bg-primary);
  border-radius: $border-radius-xl;
  box-shadow: $shadow-2xl;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;

  // 다크모드에서 border 추가
  :root[data-theme='dark'] & {
    border: $border-width-thin solid rgba(255, 255, 255, 0.1);
  }

  // 슬라이드업 애니메이션
  animation: slideUp $duration-normal $ease-out forwards;
}

// -----------------------------
// Modal Sizes
// 모달 크기 변형
// -----------------------------
.sm {
  width: 100%;
  max-width: 24rem;
}

.md {
  width: 100%;
  max-width: 32rem;
}

.lg {
  width: 100%;
  max-width: 48rem;
}

.xl {
  width: 100%;
  max-width: 64rem;
}

.full {
  width: 100%;
  max-width: calc(100vw - $spacing-8);
  max-height: calc(100vh - $spacing-8);
}

// -----------------------------
// Close Button
// 닫기 버튼
// -----------------------------
.closeButton {
  position: absolute;
  top: $spacing-4;
  right: $spacing-4;
  z-index: 10;
  width: $spacing-10;
  height: $spacing-10;
  @include flex-center;
  background-color: var(--color-bg-secondary);
  border: none;
  border-radius: $border-radius-full;
  color: var(--color-text-secondary);
  cursor: pointer;
  @include transition-default;

  &:hover {
    background-color: var(--color-bg-tertiary);
    color: var(--color-text-primary);
  }

  &:focus-visible {
    @include focus-ring;
  }
}

// -----------------------------
// Content
// 모달 컨텐츠 영역
// -----------------------------
.content {
  overflow-y: auto;
  flex: 1;
}

// -----------------------------
// Animations
// 애니메이션 키프레임
// -----------------------------
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY($spacing-8) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}
